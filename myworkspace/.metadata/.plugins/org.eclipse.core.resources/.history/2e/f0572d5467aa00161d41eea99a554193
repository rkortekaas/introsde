package introsde.rest.ehealth.model;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlAttribute;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlType;

import java.util.Date;
import java.text.DateFormat;
import java.text.SimpleDateFormat;


@XmlRootElement(name="weight")
@XmlType(propOrder = { "mid", "value", "created" })
@XmlAccessorType(XmlAccessType.FIELD)
public class WeightHistory {
	private Long mid;
	private double value;		
	private String created;

//	public WeightHistory (Long mid, double value, String created) { 
//		this.setMeasureId(mid);
//		this.setValue(value);
//		this.setCreated(created);
//	};
	
	public WeightHistory (double value) {
		// setting mid to a random number between 1 and 9999
		this.mid = Math.round(Math.floor(Math.random()*9998)+1); // Solution to Exercise #01-1d
		this.value = value;
		this.created = this.getCurrentDate();
	}
	
	public void setMeasureId (Long mid) {
		this.mid = mid;
	};
	
	public void setValue (double value) {
		this.value = value;
	}
	
	public void setCreated (String created) {
		this.created = created;
	}
	
	public Long getMeasureId() {
		return mid;
	};
	
	public double getValue() {
		return value;
	}
	
	public String getCreated() {
		return created;
	}
	
	public String getCurrentDate() {
		DateFormat dateFormat = new SimpleDateFormat("yyyy/MM/dd");
		Date date = new Date();
		return dateFormat.format(date); //2014/08/06 15:59:48
	};
	
};
